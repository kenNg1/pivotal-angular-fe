
<div class="main-content">
  <div class="container-fluid">
      <div class="card">
          <form novalidate [formGroup]="newEventForm" (ngSubmit)="onSubmit()" class="form-horizontal">
              <div class="card-header card-header-text" data-background-color="rose">
                  <h4 class="card-title">Create New Event</h4>
              </div>
              <div class="card-content">
                 <div class="row">
                    <label class="col-sm-2 label-on-left">Name</label>
                    <div class="col-sm-10">
                        <mat-form-field>
                            <input matInput formControlName="name" class="form-control" placeholder="e.g. Football training session..." type="text" required>
                                    <mat-hint>
                                    <span [hidden]="!(formErrors.name)" class="alert alert-danger">
                                        {{formErrors.name}}</span>
                                    </mat-hint>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Description</label>
                    <div class="col-sm-10">
                        <mat-input-container dividerColor="{(formErrors.description) ? 'warn' : 'primary'}">
                            <textarea matInput matTextareaAutosize formControlName="description" class="form-control" placeholder="More details about the event..." type="text" required></textarea>
                                    <mat-hint>
                                    <span [hidden]="!(formErrors.description)" class="alert alert-danger">
                                        {{formErrors.description}}</span>
                                    </mat-hint>
                        </mat-input-container>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Organizer Information</label>
                    <div class="col-sm-10">
                        <mat-input-container dividerColor="{(formErrors.org_description) ? 'warn' : 'primary'}">
                            <textarea matInput matTextareaAutosize formControlName="org_description" class="form-control" placeholder="More information about the organizer..." type="text" required></textarea>
                                    <mat-hint>
                                    <span [hidden]="!(formErrors.org_description)" class="alert alert-danger">
                                        {{formErrors.org_description}}</span>
                                    </mat-hint>
                        </mat-input-container>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Organizer Website</label>
                    <div class="col-sm-10">
                        <input mdInput formControlName="org_website" class="form-control" placeholder="Organizer Website" type="text">                       
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">What should players bring?</label>
                    <div class="col-sm-10">                        
                        <md-input-container dividerColor="{(formErrors.sportswear) ? 'warn' : 'primary'}">
                            <input mdInput formControlName="sportswear" class="form-control" placeholder="e.g. Hockey racket, gloves, water" type="text" required>
                                    <md-hint>
                                    <span [hidden]="!(formErrors.sportswear)" class="alert alert-danger">
                                        {{formErrors.sportswear}}</span>
                                    </md-hint>
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Spaces Available</label>
                    <div class="col-sm-10">
                        <md-input-container dividerColor="{(formErrors.max_ppl) ? 'warn' : 'primary'}">
                            <input mdInput formControlName="max_ppl" class="form-control" placeholder="Number of spaces available" type="number" required>
                                    <md-hint>
                                    <span [hidden]="!(formErrors.max_ppl)" class="alert alert-danger">
                                        {{formErrors.max_ppl}}</span>
                                    </md-hint>
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Sport</label>
                    <div class="col-sm-10">                             
                            <mat-form-field>
                                <mat-select formControlName="sport_id" placeholder="Choose Sport" required>
                                    <mat-option>--</mat-option>
                                    <mat-option *ngFor="let sport of sports" [value]="sport.id" (click)="selectSport()">
                                        <span>{{sport.name}}</span>
                                    </mat-option>
                                </mat-select>
                                <mat-hint>
                                        <span [hidden]="!(formErrors.sport_id)" class="alert alert-danger">
                                            {{formErrors.sport_id}}</span>
                                </mat-hint>
                            </mat-form-field>             
                    </div>
                </div>
               <div class="row">
                    <label class="col-sm-2 label-on-left">District</label>
                    <div class="col-sm-10">                        
                            <mat-form-field>
                                    <mat-select formControlName="district_id" placeholder="Choose District" required>
                                        <mat-option>--</mat-option>
                                        <mat-option *ngFor="let dist of districts" [value]="dist.id" (click)="selectDistrict()">
                                            <span>{{dist.name}}</span>
                                        </mat-option>
                                    </mat-select>
                                    <mat-hint>
                                            <span [hidden]="!(formErrors.district_id)" class="alert alert-danger">
                                                {{formErrors.district_id}}</span>
                                    </mat-hint>
                            </mat-form-field>
                    </div>
                </div>
 <!-- 
                <div style='display:none' class="row" > 
                    <label class="col-sm-2 label-on-left">User Id</label>
                    <div class="col-sm-10">
                        <md-input-container>
                            <input mdInput forControlName="user_id" class="form-control" type="number" [value]="(user.id)"> 
                        </md-input-container>
                    </div>
                </div> -->                                    
                        
                <div class="row">
                    <label class="col-sm-2 label-on-left">Level</label>
                    <div class="col-sm-10">
                            <div *ngFor="let item of level">
                                    <mat-checkbox formControlName="level" (click)="toggleLevel(item.level)">
                                        {{item.level}}
                                    </mat-checkbox>
                            </div>
                            <mat-hint>
                                    <span [hidden]="!(formErrors.level)" class="alert alert-danger">
                                        {{formErrors.level}}</span>
                            </mat-hint>
                    </div>
                </div>
                <!--
                <div class="row">
                    <label class="col-sm-2 label-on-left">Intensity</label>
                    <div class="col-sm-10 checkbox-radios">
                        <div class="radio">
                            <label>
                                <input #intensity1="ngModel" ngModel type="radio" name="intensity" checked="true" value="competitive"> Competitive
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input #intensity2="ngModel" ngModel type="radio" name="intensity" value="friendly"> Friendly
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input #intensity3="ngModel" ngModel type="radio" name="intensity" value="casual"> Casual
                            </label>
                        </div>
                        <div *ngIf="(intensity1.untouched && intensity2.untouched && intensity3.untouched && submitButtonClicked)" class="alert alert-danger">
                            <div>
                                Please select Intensity
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Terrain</label>
                    <div class="form-group col-sm-10 checkbox-radios">
                        <div class="radio">
                            <label>
                                <input #terrain1="ngModel" type="radio" name="terrain" value="indoor" ngModel> Indoor
                            </label>
                            </div>
                        <div class="radio">
                            <label>
                                <input #terrain2="ngModel" type="radio" name="terrain" value="outdoor" ngModel> Outdoor
                            </label>
                        </div>
                        <div *ngIf="(terrain1.untouched && terrain2.untouched && submitButtonClicked)" class="alert alert-danger">
                            <div>
                                Please select Terrain
                            </div>
                        </div>
                    </div>
                </div> -->
                <div class="row">
                    <label class="col-sm-2 label-on-left">Price</label>
                    <div class="col-sm-10">                        
                        <md-input-container dividerColor="{(formErrors.price) ? 'warn' : 'primary'}">
                            <input mdInput formControlName="price" class="form-control" placeholder="Please put down 0 if free" type="number" step="10" required>
                                    <md-hint>
                                    <span [hidden]="!(formErrors.price)" class="alert alert-danger">
                                        {{formErrors.price}}</span>
                                    </md-hint>
                        </md-input-container>
                    </div>
                </div>

            <!-- image to be changed -->

                <div class="row">
                        <label class="col-sm-2 label-on-left">Upload an image</label>
                        <div class="col-sm-10">
                                <input mdInput type="file" ng2FileSelect [uploader]="uploader" accept="image/*;capture=camera" >
                                <div class='btn btn-primary' (click)="upload()">Upload</div>
                        </div>
                </div>

                <div class="row">
                    <label class="col-sm-2 label-on-left">Past a image URL</label>
                    <div class="col-sm-10">                        
                        <md-input-container dividerColor="{(formErrors.imageUpload) ? 'warn' : 'primary'}">
                            <input mdInput formControlName="imageUpload" [value]="this.cloudinaryImage" class="form-control" placeholder="Choose file and upload image above, or paste in URL" type="text">
                                    <md-hint>
                                    <span [hidden]="!(formErrors.imageUpload)" class="alert alert-danger">
                                        {{formErrors.imageUpload}}</span>
                                    </md-hint>
                        </md-input-container>
                    </div>
                </div>
                <!-- change  intensity + Terrain -->
                <!-- date to be changed -->
                 <!-- <div class="row">
                    <label class="col-sm-2 label-on-left">Date</label>
                    <div class="col-sm-10">
                            <mat-form-field>
                                    <input matInput style="max-width:250px" formControlName="date" type="date" class="form-control" required/>                                    
                                    <mat-hint>
                                            <span [hidden]="!(formErrors.date)" class="alert alert-danger">
                                                {{formErrors.date}}</span>
                                    </mat-hint>
                            </mat-form-field>
                    </div>
                </div>  -->
                <div class="row">
                        <label class="col-sm-2 label-on-left">Date</label>
                        <div class="col-sm-10">
                                <mat-form-field>
                                        <input matInput formControlName="date" [matDatepicker]="picker" placeholder="Choose a date" required>
                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                        <mat-hint>
                                                <span [hidden]="!(formErrors.date)" class="alert alert-danger">
                                                    {{formErrors.date}}</span>
                                        </mat-hint>
                                </mat-form-field>
                        </div>
                    </div> 
            
           
            
               
                 <div class="row">
                    <label class="col-sm-2 label-on-left">Time</label>
                    <div class="col-sm-10">
                        <mat-form-field>
                                <input matInput formControlName="time" class="form-control" placeholder="e.g: 17:00" type="text" required>
                                        <mat-hint>
                                        <span [hidden]="!(formErrors.time)" class="alert alert-danger">
                                            {{formErrors.time}}</span>
                                        </mat-hint>
                        </mat-form-field>
                    </div>
                </div>
                
                <div class="row">
                    <label class="col-sm-2 label-on-left">Duration</label>
                    <div class="col-sm-10">
                            <mat-form-field>
                                    <input matInput formControlName="length" class="form-control" placeholder="How long is it for in minutes ?" type="number" required>
                                            <mat-hint>
                                            <span [hidden]="!(formErrors.length)" class="alert alert-danger">
                                                {{formErrors.length}}</span>
                                            </mat-hint>
                            </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 label-on-left">Address</label>
                    <div class="col-sm-10">
                        <mat-form-field>
                                <input matInput formControlName="address" class="form-control" placeholder="e.g. Flat C, 100/F, 2-10 Gough Street, Sheung Wan, Hong Kong" type="text" required>
                                        <mat-hint>
                                        <span [hidden]="!(formErrors.address)" class="alert alert-danger">
                                            {{formErrors.address}}</span>
                                        </mat-hint>
                        </mat-form-field>
                    </div>
                </div>             
                  <button type='submit' [disabled]="newEventForm.invalid" class='btn btn-success' style='float: right;'>Submit</button>
                  <button type='button' (click)="closeForm()" class='btn btn-primary' style='float: right;'>Cancel</button>
              </div>
          </form>
          <!-- <div>{{newForm | json}}</div> -->
      </div>

  </div>
</div>
